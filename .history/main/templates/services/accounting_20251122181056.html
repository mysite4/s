{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">

<div class="page-container fade-in">
  <h1 class="page-title">Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© ğŸ’°</h1>
  <p class="page-subtitle">Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ù…Ø¹ Ø§Ù„Ù…Ø¯ÙÙˆØ¹ ÙˆØ§Ù„Ù…ØªØ¨Ù‚ÙŠ</p>

  <style>
    table {
      width: 100%;
      border-collapse: collapse;
      background-color: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border-radius: 10px;
      overflow: hidden;
      font-size: 16px;
    }

    thead {
      background: linear-gradient(to right, #1976d2, #0b1a5b);
      color: white;
    }

    th, td {
      padding: 12px 15px;
      text-align: center;
    }

    tbody tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    tbody tr:hover {
      background-color: #dbe6f7;
    }

    .text-center {
      text-align: center;
    }

    @media screen and (max-width: 768px) {
      table, thead, tbody, th, td, tr {
        display: block;
      }
      thead tr {
        display: none;
      }
      tbody tr {
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 10px;
        padding: 10px;
      }
      tbody td {
        text-align: right;
        padding: 8px;
        position: relative;
      }
      tbody td::before {
        content: attr(data-label);
        position: absolute;
        left: 10px;
        font-weight: bold;
      }
    }
  </style>

  <table class="table table-striped table-hover mt-4">
    <thead>
      <tr>
        <th>Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</th>
        <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</th>
        <th>ØªØ§Ø±ÙŠØ® Ø§Ù„ÙØ§ØªÙˆØ±Ø©</th>
        <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø© (Ø¯.Ù„)</th>
        <th>Ø§Ù„Ù…Ø¯ÙÙˆØ¹ (Ø¯.Ù„)</th>
        <th>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ (Ø¯.Ù„)</th>
      </tr>
    </thead>
    <tbody>
      {% for invoice in invoices %}
      <tr>
        <td data-label="Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶">
          {% if invoice.appointment %}
            {{ invoice.appointment.name }}
          {% else %}
            ØºÙŠØ± Ù…Ø±ØªØ¨Ø· Ø¨Ù…ÙˆØ¹Ø¯
          {% endif %}
        </td>
        <td data-label="ØªØ§Ø±ÙŠØ® Ø§Ù„ÙØ§ØªÙˆØ±Ø©">{{ invoice.date }}</td>
        <td data-label="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø© (Ø¯.Ù„)">{{ invoice.total_amount }}</td>
        <td data-label="Ø§Ù„Ù…Ø¯ÙÙˆØ¹ (Ø¯.Ù„)">{{ invoice.paid_amount }}</td>
        <td data-label="Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ (Ø¯.Ù„)">{{ invoice.remaining_amount }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6" class="text-center">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙˆØ§ØªÙŠØ± Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}

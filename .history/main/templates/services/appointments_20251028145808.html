{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">

<div class="page-container fade-in">
  <h1 class="page-title">๐ ูุธุงู ุงูููุงุนูุฏ ูุงูุญุฌูุฒุงุช</h1>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tab-btn active" data-tab="add">ุฅุถุงูุฉ ููุนุฏ ุฌุฏูุฏ</button>
    <button class="tab-btn" data-tab="list">ูุงุฆูุฉ ุงูููุงุนูุฏ</button>
    <button class="tab-btn" data-tab="manage">ุชุนุฏูู ุฃู ุฅูุบุงุก ููุนุฏ</button>
  </div>

  <!-- ูุญุชูู Tabs -->
  <div class="tab-content" id="add">
    <h2>ุฅุถุงูุฉ ููุนุฏ ุฌุฏูุฏ</h2>
    <p>ูู ุจุชุณุฌูู ููุนุฏ ุฌุฏูุฏ ููุฑูุถ ุจุณูููุฉ ูุณุฑุนุฉ ุนุจุฑ ุงููุธุงู.</p>
    <!-- ููุง ูููู ุชุญุท ูููุฐุฌ Django Form -->
    <form>
      <input type="text" placeholder="ุงุณู ุงููุฑูุถ">
      <input type="date" placeholder="ุชุงุฑูุฎ ุงูููุนุฏ">
      <input type="time" placeholder="ููุช ุงูููุนุฏ">
      <button class="btn-main">ุญูุธ ุงูููุนุฏ</button>
    </form>
  </div>

  <div class="tab-content" id="list" style="display:none;">
    <h2>ูุงุฆูุฉ ุงูููุงุนูุฏ</h2>
    <p>ุนุฑุถ ุงูููุงุนูุฏ ุงููุงุฏูุฉุ ุงููุฑุชุจุทุฉ ุจุงูุฃุทุจุงุก ูุงููุฑุถู.</p>
    <!-- ููุง ูููู ุชุญุท ุฌุฏูู ุจุงูููุงุนูุฏ -->
    <table class="appointments-table">
      <thead>
        <tr>
          <th>ุงุณู ุงููุฑูุถ</th>
          <th>ุงูุชุงุฑูุฎ</th>
          <th>ุงูููุช</th>
          <th>ุงูุทุจูุจ</th>
        </tr>
      </thead>
      <tbody>
        <!-- ุชูุฑุงุฑ ุงูููุงุนูุฏ ุจุงุณุชุฎุฏุงู Django loop -->
        {% for appointment in appointments %}
        <tr>
          <td>{{ appointment.patient_name }}</td>
          <td>{{ appointment.date }}</td>
          <td>{{ appointment.time }}</td>
          <td>{{ appointment.doctor_name }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="tab-content" id="manage" style="display:none;">
    <h2>ุชุนุฏูู ุฃู ุฅูุบุงุก ููุนุฏ</h2>
    <p>ููููู ุชุนุฏูู ุจูุงูุงุช ุงูููุนุฏ ุฃู ุฅูุบุงุคู ุจูู ุณูููุฉ.</p>
    <!-- ูุซุงู: ุงุฎุชูุงุฑ ููุนุฏ ููุชุนุฏูู -->
    <form>
      <select>
        {% for appointment in appointments %}
        <option value="{{ appointment.id }}">{{ appointment.patient_name }} - {{ appointment.date }}</option>
        {% endfor %}
      </select>
      <button class="btn-alert">ุชุนุฏูู</button>
      <button class="btn-secondary">ุฅูุบุงุก</button>
    </form>
  </div>
</div>

<!-- JS ูุชุจุฏูู ุงูู Tabs -->
<script>
  const tabButtons = document.querySelectorAll('.tab-btn');
  const tabContents = document.querySelectorAll('.tab-content');

  tabButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      // ุฅุฒุงูุฉ active ูู ูู ุงูุฃุฒุฑุงุฑ
      tabButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      // ุฅุฎูุงุก ูู ุงููุญุชููุงุช
      tabContents.forEach(c => c.style.display = 'none');

      // ุฅุธูุงุฑ ุงููุญุชูู ุงููุฎุชุงุฑ
      const tabId = btn.getAttribute('data-tab');
      document.getElementById(tabId).style.display = 'block';
    });
  });
</script>

{% endblock %}

{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">

<div class="page-container fade-in">
  <h1 class="page-title">๐งโโ๏ธ ุฅุฏุงุฑุฉ ุงููุฑุถู</h1>
  <p style="text-align:center; margin-bottom:30px; color:#555;">
  ูุฐู ุงูุตูุญุฉ ุชุนุฑุถ ุณุฌู ุฌููุน ุงููุฑุถู ุงููุณุฌููู ูุฏููุง. 
  ููููู ุงูุจุญุซ ุนู ุฃู ูุฑูุถ ุจุณูููุฉ ููุชุญูู ูู ุชูุงุตููู ููุนูููุงุชู ุงูุดุฎุตูุฉ ุนูุฏ ุงูุญุงุฌุฉ.
</p>

  <!-- ุชุจููุจ ูุงุญุฏ: ูุงุฆูุฉ ุงููุฑุถู -->
  <div class="tabs">
    <button class="tab-btn active" data-tab="list">ูุงุฆูุฉ ุงููุฑุถู</button>
  </div>

  <!-- ูุงุฆูุฉ ุงููุฑุถู -->
  <div class="tab-content" id="list">
    <h2>ุงููุฑุถู ุงููุณุฌููู</h2>

    <!-- ุจุญุซ -->
    <form method="GET" style="margin-bottom:20px; text-align:center;">
      <input type="text" name="q" placeholder="ุงุจุญุซ ุจุงุณู ุงููุฑูุถ..." value="{{ query }}" style="padding:8px; width:250px; border-radius:5px; border:1px solid #ccc;">
      <button type="submit" class="btn-main">ุจุญุซ</button>
    </form>

    <table class="appointments-table" style="margin:0 auto; text-align:center;">
      <thead>
        <tr>
          <th>ุงุณู ุงููุฑูุถ</th>
          <th>ุฑูู ุงููุงุชู</th>
          <th>ุชุงุฑูุฎ ุงููููุงุฏ</th>
          <th>ููุงุญุธุงุช</th>
        </tr>
      </thead>
      <tbody>
        {% for patient in patients %}
        <tr>
          <td>{{ patient.name }}</td>
          <td>{{ patient.phone }}</td>
          <td>{{ patient.birth_date }}</td>
          <td>{{ patient.notes }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4">ูุง ููุฌุฏ ูุฑุถู ูุณุฌููู.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<script>
  // ุงูุชุจุฏูู ุจูู Tabs (ุฑุบู ุฃููุง ูุฏููุง ุชุจููุจ ูุงุญุฏ ููุท ุงูุขู)
  const tabButtons = document.querySelectorAll('.tab-btn');
  const tabContents = document.querySelectorAll('.tab-content');
  tabButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      tabButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      tabContents.forEach(c => c.style.display = 'none');
      document.getElementById(btn.getAttribute('data-tab')).style.display = 'block';
    });
  });
</script>
{% endblock %}
